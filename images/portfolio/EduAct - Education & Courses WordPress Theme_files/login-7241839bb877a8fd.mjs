(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[63386],{701305:e=>{"use strict";var t=[],i=[];e.exports=/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function(e,o){var s=t.length?t.pop():[],n=i.length?i.pop():[],r=function e(t,i,o,s){if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i||"object"!=typeof t||"object"!=typeof i)return!1;var n=Object.prototype.toString,r=n.call(t);if(r!=n.call(i))return!1;switch(r){case"[object String]":return t==String(i);case"[object Number]":return!(isNaN(t)||isNaN(i))&&t==Number(i);case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}for(var a=o.length;a--;)if(o[a]==t)return s[a]==i;o.push(t),s.push(i);var l=0;if("[object Array]"===r){if((l=t.length)!==i.length)return!1;for(;l--;)if(!e(t[l],i[l],o,s))return!1}else{if(t.constructor!==i.constructor)return!1;if(t.hasOwnProperty("valueOf")&&i.hasOwnProperty("valueOf"))return t.valueOf()==i.valueOf();var u=Object.keys(t);if(u.length!=Object.keys(i).length)return!1;for(var c=0;c<u.length;c++)if(!e(t[u[c]],i[u[c]],o,s))return!1}return o.pop(),s.pop(),!0}(e,o,s,n);return s.length=0,n.length=0,t.push(s),i.push(n),r}},60139:e=>{"use strict";function t(e){return function(){return e}}var i=function(){};i.thatReturns=t,i.thatReturnsFalse=t(!1),i.thatReturnsTrue=t(!0),i.thatReturnsNull=t(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},663620:(e,t,i)=>{"use strict";var o=i(60139);e.exports=o},39900:(e,t,i)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/business/login",function(){return i(465316).Z}])},114141:(e,t,i)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/login",function(){return i(839586).Z}])},67895:(e,t,i)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/oauth/login",function(){return i(190699).Z}])},105737:(e,t,i)=>{"use strict";function o(e,t,i){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o+=1)if(!n(e[o],t[o],i+1))return!1;return!0}function s(e,t,i){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let o in e)if(!(o in t)||!n(e[o],t[o],i+1))return!1;return!0}function n(e,t,i){if(i>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let n=Object.prototype.toString.call(e);if(n!==Object.prototype.toString.call(t))return!1;switch(n){case"[object Array]":return o(e,t,i);case"[object Set]":return o(Array.from(e).sort(),Array.from(t).sort(),i);case"[object Object]":case"[object Arguments]":return s(e,t,i);case"[object Map]":return s(Object.fromEntries(e),Object.fromEntries(t),i);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function r(e,t){return n(e,t,0)}i.d(t,{ZP:()=>r,qP:()=>o})},847160:(e,t,i)=>{"use strict";i.d(t,{Bx:()=>s,N4:()=>r,is:()=>a,lt:()=>o,oM:()=>n});let o=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),n=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),a=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},103322:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var o=i(667294),s=i(701785),n=i(953565);function r(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends o.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,i=this.props.type||"secondary";(0,s.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),(0,n.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,n.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:i}=this.state;return t&&i?e?e({error:t,info:i,resetError:this.resetError}):null:this.props.children}}},510989:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});let o=i(103322).Z},467707:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});let o=["https://www.pinterest.info","https://www.pinterest.at","https://www.pinterest.com.au","https://www.pinterest.ca","https://www.pinterest.ch","https://www.pinterest.cl","https://www.pinterest.de","https://www.pinterest.dk","https://www.pinterest.es","https://www.pinterest.fr","https://www.pinterest.co.uk","https://www.pinterest.ie","https://www.pinterest.it","https://www.pinterest.jp","https://www.pinterest.co.kr","https://www.pinterest.com.mx","https://www.pinterest.nz","https://www.pinterest.se","https://www.pinterest.ph","https://www.pinterest.pt","https://www.pinterest.ru"]},55202:(e,t,i)=>{"use strict";i.d(t,{U:()=>r,Z:()=>a});var o=i(317540),s=i(785893);let n=()=>{},r=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function a({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:i,allowScroll:a,children:l}){let u=e=>{t&&e.keyCode===o.Z.ESCAPE||r(e)};return(0,s.jsx)("div",{onAbort:r,onAnimationEnd:r,onAnimationIteration:r,onAnimationStart:r,onBlur:n,onCanPlay:i?n:r,onCanPlayThrough:r,onChange:r,onClick:e?n:r,onCompositionEnd:r,onCompositionStart:r,onCompositionUpdate:r,onContextMenu:r,onCopy:r,onCut:r,onDoubleClick:r,onDurationChange:r,onEmptied:r,onEncrypted:r,onEnded:r,onError:r,onFocus:n,onInput:r,onInvalid:r,onKeyDown:u,onKeyPress:u,onKeyUp:u,onLoad:r,onLoadedData:r,onLoadedMetadata:r,onLoadStart:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:e?n:r,onMouseOut:r,onMouseOver:r,onMouseUp:e?n:r,onPaste:r,onPause:r,onPlay:r,onPlaying:r,onProgress:r,onRateChange:r,onScroll:a?n:r,onSeeked:r,onSeeking:r,onSelect:r,onStalled:r,onSubmit:r,onSuspend:r,onTimeUpdate:r,onTouchCancel:r,onTouchEnd:e?n:r,onTouchMove:e?n:r,onTouchStart:e?n:r,onTransitionEnd:r,onVolumeChange:r,onWaiting:r,onWheel:r,children:l})}},598228:(e,t,i)=>{"use strict";i.d(t,{Ag:()=>n,C0:()=>l,L1:()=>h,Vi:()=>r,YD:()=>d,kS:()=>s,oo:()=>a,p3:()=>p,vC:()=>u,vI:()=>c});var o=i(244413);let s="https://www.pinterest.com/business/hub/",n="https://www.pinterest.com/homefeed/",r="www.pinterest.com",a="https://help.pinterest.com",l=`${(0,o.Z)({site:"www"})}`,u=(0,o.Z)({site:"developers"}),c=`${(0,o.Z)({site:"sterling"})}`,d=`${(0,o.Z)({site:"analytics"})}`,h=`${(0,o.Z)({site:"trends"})}`,p=`${(0,o.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`},194602:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var o=i(667294);let s=()=>()=>{},n=()=>!1,r=()=>!0,a=()=>(0,o.useSyncExternalStore)(s,n,r)},587481:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var o=i(883119),s=i(214877),n=i(140017),r=i(554786),a=i(90647),l=i(785893);let u=e=>{let t=(0,n.ZP)(),{logContextEvent:i}=(0,s.v)(),{handleContinueInBrowser:u,handleOpenAppClick:c,overrideAppValuePropHeader:d,overrideappValuePropSubheader:h,InAppDeeplinkUrl:p="/",app_upsell_type:g}=e,_=(0,r.Wb)(),m=d||t._('Woohoo! You\'re ready to go.', 'mweb.nux.app_value_prop', 'Text that instructs user when user just finish registration');return(0,l.jsx)(o.xu,{direction:"column",display:"flex",height:"90%",justifyContent:"center",margin:"auto",maxWidth:440,children:(0,l.jsxs)(o.xu,{paddingX:2,paddingY:6,children:[(0,l.jsx)(o.xu,{display:"flex",justifyContent:"center",paddingY:6,children:(0,l.jsx)(o.JO,{accessibilityLabel:"Pinterest App",color:"brandPrimary",icon:"pinterest",size:_?60:40})}),(0,l.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,l.jsxs)(o.xu,{paddingY:3,children:[(0,l.jsx)(o.xu,{marginBottom:3,children:(0,l.jsx)(o.X6,{align:"center",size:"400",children:m})}),(0,l.jsx)(o.kC,{justifyContent:"center",children:(0,l.jsx)(o.xu,{maxWidth:250,children:(0,l.jsx)(o.xv,{align:"center",children:h||""})})})]}),(0,l.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:3}),(0,l.jsx)(o.xu,{"data-test-id":"app-install-button",children:(0,l.jsx)(a.Z,{app_upsell_type:g,componentType:14155,children:({handleOpenApp:e})=>(0,l.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:()=>{c(),e({deepLinkUri:p})},size:"lg",text:t._('Open app', 'mweb.app_upsell_after_login.app_button1', 'Text on app install button')})})}),(0,l.jsx)(o.xu,{"data-test-id":"skip-app-install-button",marginTop:2,children:(0,l.jsx)(o.zx,{color:"white",fullWidth:!0,onClick:()=>{i({component:14155,element:10307,event_type:10220,view_type:9,view_parameter:3542,aux_data:{app_upsell_type:g}}),u()},size:"lg",text:t._('Continue in browser', 'mweb.unauth.app_upsell.continue_in_browser', 'App Upsell continue viewing in browser')})})]})]})})}},254292:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var o=i(883119),s=i(785893);function n({text:e}){return(0,s.jsx)(o.xu,{display:"visuallyHidden",children:(0,s.jsx)(o.X6,{accessibilityLevel:1,children:e})})}},490166:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var o=i(883119),s=i(785893);function n({children:e,onMouseEnter:t,onMouseLeave:i,onTouch:n,rounding:r,fullWidth:a=!1,pressState:l="none",accessibilityLabel:u,role:c}){let d=(Array.isArray(l)?l:[l]).includes("compress");return(0,s.jsx)(o.iP,{accessibilityLabel:u,fullWidth:a,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:i&&(({event:e})=>i(e)),onTap:n&&(({event:e})=>n(e)),role:c,rounding:r,tapStyle:d?"compress":"none",children:e})}},19447:(e,t,i)=>{"use strict";i.d(t,{AF:()=>a,H0:()=>l,S6:()=>u,_S:()=>c});var o=i(545007),s=i(342513),n=i(785893);let{Provider:r,useHook:a,useMaybeHook:l}=(0,s.Z)("Pins");function u(){let e=a();return t=>e[t]}function c({children:e}){let t=(0,o.v9)(({pins:e})=>e,o.wU);return(0,n.jsx)(r,{value:t,children:e})}},386008:(e,t,i)=>{"use strict";i.d(t,{Tt:()=>d,cm:()=>c,kW:()=>l,kY:()=>h,mN:()=>u});var o=i(545007),s=i(342513),n=i(149722),r=i(785893);let{Provider:a,useHook:l}=(0,s.Z)("Users");function u(){let e=l();return t=>e[t]}function c(){let e=l();return(t,i=!1)=>{let o=Object.keys(e).find(i=>e[i].username===t);if(o||!i)return e[o??""]}}function d(){let{id:e}=(0,n.Z)();return l()[e??""]}function h({children:e}){let t=(0,o.v9)(({users:e})=>e,o.wU);return(0,r.jsx)(a,{value:t,children:e})}},801690:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var o=i(667294),s=i(525364),n=i(105737),r=i(766311),a=i(785893);class l extends o.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:i,viewType:o}=this.props;e({viewData:t,viewParameter:i,viewType:o})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:i,viewParameter:o,viewType:s}=this.props;o===e.viewParameter&&s===e.viewType&&(0,n.ZP)(i,e.viewData)||t({viewData:i,viewParameter:o,viewType:s})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:i,objectIdStr:o,viewData:s,viewParameter:n,viewType:l,clientTrackingParams:u}=this.props;return(0,a.jsx)(r.Z,{auxData:e,clientTrackingParams:u,component:i,objectIdStr:o,viewData:s,viewParameter:n,viewType:l,children:t})}}function u(e){let{setViewContextData:t,clearViewContextData:i}=(0,s.sV)();return(0,a.jsx)(l,{...e,clearCurrentPageData:i,setCurrentPageData:t})}},766311:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var o=i(667294),s=i(587703),n=i(217058);let r=e=>Object.keys(e).reduce((t,i)=>(void 0===e[i]&&delete t[i],t),{...e}),a=({viewType:e,viewParameter:t,viewData:i,auxData:o,objectIdStr:s,component:a,clientTrackingParams:l,element:u},c)=>{let d=r({event_type:13,view_type:e,view_parameter:t,view_data:i,aux_data:o,object_id_str:s,component:a,clientTrackingParams:l,element:u});-1===Object.keys(d).indexOf("view_type")&&(0,n.My)("mweb.logging.null_view_type"),c(d)};function l(e){let{auxData:t,clientTrackingParams:i,children:n,component:r,element:l,objectIdStr:u,viewData:c,viewParameter:d,viewType:h}=e,p=(0,s.Z)(),g=JSON.stringify(t),_=JSON.stringify(c);return(0,o.useEffect)(()=>{a(e,p)},[p,g,i,r,l,u,_,d,h]),o.Children.only(n)}},874143:(e,t,i)=>{"use strict";i.d(t,{J5:()=>l,Zd:()=>a,dD:()=>u});var o=i(573810),s=i(624797),n=i(953565);let r="adcredits",a=()=>{if(!window)return!1;let e=(0,s.mB)(window.location.search).utm_medium;return!!e&&e===r};class l{constructor(){this.key=`paid.campaign.${r}`}markEligible(){(0,o.Nh)(this.key,"true"),(0,n.nP)("partner.paid.ad_credits.seen",{sampleRate:1,tags:{platform:"mobile"}})}isEligible(){return"true"===(0,o.qn)(this.key)}claim(){(0,o.Nh)(this.key,"false"),(0,n.nP)("partner.paid.ad_credits.claimed",{sampleRate:1,tags:{platform:"mobile"}})}}class u{constructor(){this.key="paid.marketingoffer"}markEligible(e){(0,o.Nh)(this.key,e),(0,n.nP)(`partner.paid.marketingoffer.${e}.seen`,{sampleRate:1,tags:{platform:"mobile"}})}isEligible(){return null!=(0,o.qn)(this.key)}getOfferId(){return(0,o.qn)(this.key)}claim(){if(this.isEligible()){let e=(0,o.qn)(this.key);(0,o.Nh)(this.key,null),(0,n.nP)(`partner.paid.marketingoffer.${e}.claimed`,{sampleRate:1,tags:{platform:"mobile"}})}}}},831860:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var o=i(573810),s=i(624797),n=i(407053),r=i(336054);function a({i18n:e,location:t}){let i;let s=t.pathname.startsWith("/signup"),r=t.pathname.startsWith("/login");if(!s&&!r)return{showPLPBanner:!1,pinForBanner:null};try{i=JSON.parse((0,o.qn)(n.KH,[]))||[]}catch(e){i=[]}if(i&&i.length>0){let t=i?.[0];if(t)return t.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:!!t.image,pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}function l({i18n:e,location:t}){let i=t.state?.next||(0,r.Z)(t);if(i){let t=i.indexOf("?"),o=(0,s.mB)(i.substring(t));if(o.url&&o.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,s.Jx)(o.media),height:1,width:1},pinDescription:o.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function u({i18n:e,location:t}){return l({i18n:e,location:t}).showPLPBanner?l({i18n:e,location:t}):a({i18n:e,location:t}).showPLPBanner?a({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}},942397:(e,t,i)=>{"use strict";function o(e){return!!e?.is_matured_new_user}i.d(t,{IR:()=>r,V0:()=>o,Wn:()=>n,xT:()=>s});let s=e=>!!e&&2===e.login_state,n=e=>!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},166770:(e,t,i)=>{"use strict";i.d(t,{H:()=>s,o:()=>o});let{Provider:o,useHook:s}=(0,i(342513).Z)("LimitedLogin")},744284:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var o=i(883119),s=i(5859),n=i(194602),r=i(490166),a=i(432242),l=i(785893);let u={border:"1px solid rgb(181, 181, 181)",zIndex:1};function c({email:e,emailFieldElement:t,handleEmailSuggestionClick:i,showUsername:c}){let{country:d}=(0,s.B)(),h=(0,a.Z)(d),{width:p,top:g}=(e=>{if((0,n.Z)())return{width:void 0,top:void 0};if(!e)return{width:window.innerWidth-32,top:void 0};let{width:t,y:i,height:o}=e.getBoundingClientRect();return{width:t,top:i+o}})(t);return(0,l.jsx)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:{...u,top:g}},direction:"column",display:"flex",position:"absolute",width:p,children:h.map(t=>{let s=c?e.concat(t):t;return(0,l.jsx)(o.xu,{children:(0,l.jsx)("div",{onMouseDown:()=>{i(e.concat(t))},role:"button",tabIndex:0,children:(0,l.jsx)(r.Z,{pressState:"none",children:(0,l.jsx)(o.xu,{paddingX:3,paddingY:2,children:(0,l.jsx)(o.xv,{children:s})})})})},s)})})}},154303:(e,t,i)=>{"use strict";i.d(t,{Z:()=>eN});var o=i(616550),s=i(531486),n=i(554786),r=i(149722),a=i(667294),l=i(883119),u=i(106110),c=i(999586),d=i(876569),h=i(273523),p=i(596227),g=i(454514),_=i(140017),m=i(406893),f=i(739670),x=i(486587),w=i(741983),b=i(5859),y=i(217058),v=i(13848),P=i(624797),S=i(623891),j=i(494125),k=i(785893);function A(){let e=(0,_.ZP)(),t=(0,o.TH)(),i=(0,w.Ni)(t),s=(0,v.F9)(),{referrerFromCookie:n,isAuthenticated:r}=(0,b.B)(),[A,E]=(0,a.useState)({type:"login"}),[L,C]=(0,a.useState)(!1),z=(0,P.mB)(t.search);return(0,a.useEffect)(()=>{"signup"===z.flow&&E({type:"signup"})},[z.flow]),(0,j.Z)(()=>{let i=(0,x.Z)(e,t);i&&s.showOneToast(({hideToast:e})=>(0,k.jsx)(g.ZP,{duration:f.Jl,onHide:e,text:i}))}),(0,a.useEffect)(()=>{if(!r){let{searchType:e,searchQuery:t}=function(e){let t="unknown",i="",o=e&&e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)(\/[^?#]*)(\?[^#]*|)(#.*|)$/);if(o&&o.length>=2){let s=o[2];if(s.search("^.*(google[.].+)$")>-1){if(e.search(/((images\.google)|(\/images|\/imgres).*\?.+)|(\?.*(source=images|tbm=isch))/)>-1){t="images";let o=(0,S.Z)(e);o.q&&o.q.length>0&&(i=o.q)}else e.search(/search|(\?.*(source=web))/)>-1&&(t="web")}else if(s.search("^.*(bing[.].+)$")>-1){if(e.search("bing.[a-z]+((/images/search)|(.*?.*(source=images)))")>-1){t="images";let o=(0,S.Z)(e);o.pq&&o.pq.length>0&&(i=o.pq)}else e.search("(bing.[a-z]+(/search|(.*?.*(source=search))))")>-1&&(t="web")}else if(s.search("^.*(yahoo[.].+)$")>-1){if(e.search("images.search.yahoo.[a-z]+((/search/images)|(.*?.*))")>-1){t="images";let o=(0,S.Z)(e);o.p&&o.p.length>0&&(i=o.p)}else e.search("(search.yahoo.[a-z]+(/search|(.*?.*)))")>-1&&(t="web")}}return{searchType:t,searchQuery:i}}(n??"");if("images"===e){(0,y.My)("search_type.image.login");let e=(t||"").replace(/ /g,"_");(0,y.My)(`image_search_query.login.${e}`)}else(0,y.My)("unknown"===e?"search_type.unknown.login":"search_type.web.login")}},[r,n]),(0,k.jsxs)(l.xu,{height:"100%",position:"absolute",top:!0,width:"100%",children:[(0,k.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{overflowY:"hidden"}},left:!0,position:"absolute",right:!0,top:!0,children:(0,k.jsx)(p.Z,{})}),(0,k.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, .5)"}},left:!0,position:"fixed",right:!0,top:!0}),L?(0,k.jsx)(d.Z,{}):(0,k.jsxs)(a.Fragment,{children:[(0,k.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},position:"absolute",children:[(0,k.jsx)(m.Z,{unsafeCSS:`${h.Z}${c.Z}`}),(0,k.jsx)(u.default,{attributionLabel:t.state?.attributionLabel,container:i?"business_login_page":"login_page",customLoginTagline:i?e._('Log in to Pinterest', 'Welcoming a business user to log into pinterest', 'Welcoming a business user to log into pinterest'):void 0,handleShowingSignupWelcomeLoading:e=>{e!==L&&C(e)},isBusiness:i,nextUrlParam:z.next||"",signupFlow:A,signupSource:"true"===z.board_invite?"boardInvite":"login",toggleType:"SMALL_TOGGLE"})]}),!i&&(0,k.jsx)(l.xu,{"data-test-id":"login"===A.type?"simple-signup-button":"simple-login-button",left:!0,marginStart:6,marginTop:12,position:"absolute",top:!0,children:(0,k.jsx)(l.zx,{color:"white",fullWidth:!0,onClick:()=>{E("login"===A.type?{type:"signup"}:{type:"login"})},text:"login"===A.type?e._('Sign up', 'sign up for account toggle on homepage', 'sign up for account toggle on homepage'):e._('Log in', 'Label for log in button', 'Label for log in button')})})]})]})}var E=i(179425),L=i(340523),C=i(623409),z=i(472980),Z=i(255797),T=i(801690),B=i(587481),O=i(773616),F=i(874143),I=i(254292),D=i(373236),U=i(445011),M=i(831860);let H=({text:e})=>(0,k.jsx)(l.xu,{children:(0,k.jsx)(l.xu,{color:"infoWeak",dangerouslySetInlineStyle:{__style:{padding:"12px 16px"}},display:"inlineBlock",marginStart:-2,marginTop:-3,width:"105%",children:(0,k.jsxs)(l.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,k.jsx)(l.xu,{marginEnd:4,marginStart:4,children:(0,k.jsx)(l.JO,{accessibilityLabel:"",color:"dark",icon:"info-circle",size:"24px"})}),(0,k.jsx)(l.xv,{align:"start",overflow:"normal",size:"300",children:e})]})})});var R=i(545007),W=i(587703),N=i(920434),V=i(915978),$=i(372085),Y=i(205841),q=i(339001),K=i(96452),G=i(602377),X=i(516256),J=i(345276),Q=i(657376),ee=i(191313),et=i(468653),ei=i(194602),eo=i(747602),es=i(407996),en=i(942397),er=i(908738),ea=i(909058),el=i(744284);function eu(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class ec extends a.PureComponent{constructor(...e){super(...e),eu(this,"state",{emailFieldElement:null,shouldShowEmailSuggestion:!1}),eu(this,"handleChangeEmail",({value:e})=>{let{handleChangeEmail:t}=this.props;if(this.state.shouldShowEmailSuggestion)this.setState({shouldShowEmailSuggestion:!1});else if(e.endsWith("@")){let e=this.emailInputRef;this.setState({shouldShowEmailSuggestion:!0,emailFieldElement:e})}t&&t({value:e})}),eu(this,"handlePasswordFocus",()=>{(0,y.NC)("focus_password")}),eu(this,"handleEmailSuggestionClick",e=>{let{trackInteraction:t}=this.props;t&&t({action:"click",item:"email-suggestions",within:"login-page"}),this.setState({shouldShowEmailSuggestion:!1}),this.handleChangeEmail({value:e})}),eu(this,"passwordReset",e=>{(0,y.NC)("click_forget_password"),this.props.handlePasswordReset&&this.props.handlePasswordReset(e)}),eu(this,"handleLoginClick",()=>{(0,y.EX)({event:"start",provider:"email"}),(0,y.NC)("press_login_continue"),this.props.onLoginClick&&this.props.onLoginClick()}),eu(this,"handleSignupClick",()=>{let{onSignUpClick:e}=this.props;e&&e()})}render(){let{email:e,handleChangePassword:t,hideEmailField:i,hideLoginBtn:o,hidePasswordField:s,i18n:n,passwordValidationError:r,emailValidationError:u,validateEmailOnBlur:c,validatePasswordOnBlur:d,isSIWAError:h,isValid:p,isSsoFlow:g,onSubmit:_,password:m,shouldShowSignUpButton:f,showEmailAsText:x}=this.props,{emailFieldElement:w,shouldShowEmailSuggestion:b}=this.state,y=h&&r,v=n._('Log in', 'Label for log in button', 'Label for log in button'),P=!s;return g&&(v=n._('Continue with SSO', 'login.sso.continue_button.text', 'Label for continue with SSO button'),P=!1),(0,k.jsx)(l.xu,{marginBottom:3,marginTop:3,children:(0,k.jsxs)("form",{autoCapitalize:"none",autoCorrect:"off",onSubmit:_,children:[!i&&x&&(0,k.jsx)(l.xu,{marginBottom:5,children:(0,k.jsx)(l.xv,{align:"center",children:e})}),!i&&!x&&(0,k.jsxs)(a.Fragment,{children:[b?(0,k.jsx)(el.Z,{email:e,emailFieldElement:w,handleEmailSuggestionClick:this.handleEmailSuggestionClick,showUsername:!0}):null,(0,k.jsx)(l.xu,{marginTop:1,children:(0,k.jsx)(l.nv,{ref:e=>{this.emailInputRef=e},errorMessage:u,id:"email",onBlur:c,onChange:this.handleChangeEmail,placeholder:n._('Email', 'Prompt for user to enter in email on the mobile web login page', 'Prompt for user to enter in email on the mobile web login page'),size:"lg",type:"email",value:e})})]}),P?(0,k.jsxs)(l.xu,{children:[(0,k.jsx)(l.xu,{marginTop:2,position:"relative",children:(0,k.jsx)(l.nv,{autoComplete:"on",errorMessage:r,id:"password",onBlur:d,onChange:t,onFocus:this.handlePasswordFocus,placeholder:n._('Password', 'Prompt for user to enter in password on the mobile web login page', 'Prompt for user to enter in password on the mobile web login page'),size:"lg",type:"password",value:m})}),(0,k.jsx)(l.xu,{"data-test-id":"reset-password",marginTop:2,children:(0,k.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:(0,k.jsx)(l.rU,{display:"inlineBlock",href:"/password/reset",onClick:({event:e})=>this.passwordReset(e),tapStyle:"none",underline:"hover",children:y?n._('Reset your password', 'Heading displayed when email is entered on the password reset page', 'Heading displayed when email is entered on the password reset page'):n._('Forgot your password?', 'Link to the password reset page', 'Link to the password reset page')})})})]}):null,f&&(0,k.jsx)(l.xu,{marginTop:3,children:(0,k.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:this.handleSignupClick,text:n._('Sign up with this email', 'Label for sign up button', 'Label for sign up button'),type:"submit"})}),!o&&(0,k.jsx)(l.xu,{"data-test-id":"log-in-button",marginTop:4,children:(0,k.jsx)(ea.Z,{color:"red",disabled:!p||f,fullWidth:!0,onClick:this.handleLoginClick,size:"md",text:v,type:"submit"},!p||f?"disabled":"enabled")})]})})}}let ed=function(e){let t=(0,_.ZP)(),i=(0,n.ml)(),{checkExperiment:o}=(0,L.F)(),s=(0,C.Z)();return(0,k.jsx)(ec,{...e,checkExperiment:o,i18n:t,isPhoneDevice:i,trackInteraction:s})};var eh=i(323721),ep=i(340370);let eg=function({href:e,state:t,onClick:i,children:s}){let{state:n}=(0,o.TH)(),r=(0,ep.Z)({href:{pathname:e,state:{...n,...t}}});return(0,k.jsx)(l.rU,{href:e,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),i(),r({event:e})},children:s})};var e_=i(27460),em=i(386008),ef=i(125768),ex=i(446570),ew=i(717473),eb=i(800030);function ey(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let ev=e=>e.state&&e.state.email||"",eP=e=>({connectedToFacebook:e.connected_to_facebook,connectedToGoogle:e.connected_to_google||!!e.gplus_url,email:e.email,firstName:e.first_name,hasPassword:e.has_password,avatarSrc:e.image_medium_url||e.medium_image_url||""}),eS=e=>{let t=new F.dD;if(t.isEligible()){let e=t.getOfferId();return`/business/offer/${e}`}return(0,P.mB)(e.search).next||e.state&&e.state.next||"/"};class ej extends a.PureComponent{constructor(...e){super(...e),ey(this,"state",{apiErrorCode:0,email:ev(this.props.location),isLoading:!1,isValid:!1,isSsoFlow:!1,password:"",recaptchaV3Token:"default",emailValidationError:"",passwordValidationError:"",optOutFromPersonalizedForm:!1,shouldShowSignUpButton:!1,hasKeychainErrorShown:!0,showLoginRateLimitedModal:!1,shouldHideFBButtonForSignup:!1,isSsoEmail:!1,exchangeCodeToTokenUrl:"",existingUserSso:!1,existingUserIsSso:!1,ssoAuthorizationUri:""}),ey(this,"clearPersonalizedLoginFromEmail",e=>{let{history:t,location:i}=this.props;if(i.state&&i.state.userInfo){let{userInfo:o,...s}=i.state;t.replace({pathname:e?"/":"/login",state:s})}}),ey(this,"onLoginClick",()=>{this.trackButtonTap(30)}),ey(this,"onSignUpClick",()=>{let{history:e,location:t,isAppFactoryOAuth:i,attributionLabel:o,trackConversionUpsell:s}=this.props;this.trackButtonTap(31),s({eventType:14688,component:14215,upsellReason:o,incrementUpsellReasonCounter:!1}),e.push({pathname:"/signup/step1/",state:{email:this.state.email,password:this.state.password,isSignUpFromLoginError:!0,...t.state,isAppFactoryOAuth:i,attributionLabel:o}})}),ey(this,"trackButtonTap",e=>{let{isAuthenticated:t,isLimitedLoginUser:i,logContextEvent:o,trackConversionUpsell:s}=this.props;o({view_type:9,element:e,event_type:102,aux_data:{...t?{login_state:i?G.Z.LIMITED:G.Z.DEFAULT}:{}}}),s({eventType:14689,element:e})}),ey(this,"handleNotYouClick",()=>{this.clearPersonalizedLoginFromEmail(),this.trackButtonTap(10879),this.setState({email:"",optOutFromPersonalizedForm:!0}),(0,y.NC)("click_change_signin_account")}),ey(this,"handleNoAccountClick",()=>{let{attributionLabel:e,trackConversionUpsell:t}=this.props;this.clearPersonalizedLoginFromEmail(!0),this.trackButtonTap(10880),t({eventType:14688,component:14215,upsellReason:e,incrementUpsellReasonCounter:!1,viewType:10,viewParameter:47}),(0,y.NC)("click_toggle_signup")}),ey(this,"handlePasswordReset",()=>{let{history:e,logContextEvent:t,attributionLabel:i}=this.props,{email:o}=this.state;this.trackButtonTap(10881);let s=(0,eo.a3)(o,this.emailValidators());o&&!s&&(t({event_type:51,view_type:9,view_parameter:63}),(0,$.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:o}}).then(()=>{e.replace({pathname:"/password/reset/sent/",state:{destinationEmail:o,fromLogin:!0,attributionLabel:i}}),this.setState({apiErrorCode:0})}))}),ey(this,"validateEmail",async({showTooltip:e})=>{let{email:t}=this.state,i=(0,eo.a3)(t,this.emailValidators()),o=!i&&!this.state.passwordValidationError;o&&this.checkIfUserIsSso({}),e||o?this.setState({emailValidationError:i,isValid:o}):this.setState({isValid:o})}),ey(this,"checkIfUserIsSso",async({hasInitialEmail:e})=>{let{email:t,isValid:i}=this.state,{verifySsoUser:o}=this.props,{isSso:s,existingUser:n,existingUserIsSso:r,authorizationUri:a,exchangeCodeToTokenUrl:l}=await o(t),u=!!(s&&(!n||r));this.setState({exchangeCodeToTokenUrl:l??"",isSsoEmail:s,isSsoFlow:u,existingUserSso:!!n,existingUserIsSso:!!r,ssoAuthorizationUri:a??"",isValid:!!u&&!!e||i})}),ey(this,"debouncedCheckIfSsoUser",(0,N.Z)(async()=>{let{email:e}=this.state;(0,eo.a3)(e,this.emailValidators())||this.checkIfUserIsSso({hasInitialEmail:!1})},300)),ey(this,"validatePassword",e=>{let{password:t}=this.state,i=(0,eo.a3)(t,[(0,eo.aH)({message:this.props.i18n._('The password you entered is incorrect.', 'Password validation error', 'Password validation error')})]),o=!i&&!this.state.emailValidationError;e||o?this.setState({passwordValidationError:i,isValid:o}):this.setState({isValid:o})}),ey(this,"validateEmailOnBlur",()=>{setTimeout(()=>{this.validateEmail({showTooltip:!0})},0)}),ey(this,"validatePasswordOnBlur",()=>{let{password:e}=this.state;e&&setTimeout(()=>{this.validatePassword(!0)},0)}),ey(this,"emailValidators",()=>[(0,eo.GT)({message:this.props.i18n._('Not a valid email.', 'Email field validation error message', 'Email field validation error message')}),(0,eo.aH)({message:this.props.i18n._('You missed a spot! Don\'t forget to add your email.', 'Email validation error', 'Email validation error')})]),ey(this,"getSoftBannedErrorMsg",()=>{let{i18n:e}=this.props;return(0,q.nk)(e._('We noticed some strange activity on your account. {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.', 'duplo.loginForm.softBanned.errorMessage', 'Error message when user is soft banned, resetPasswordLink: link to reset password flow with text \'Reset your password\''),{resetPasswordLink:(0,k.jsx)(l.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:(0,k.jsx)(l.rU,{display:"inlineBlock",href:"/password/reset",onClick:this.handlePasswordReset,tapStyle:"none",underline:"hover",children:e._('Reset your password', 'duplo.loginForm.SoftBanned.passwordReset', 'Link text for password reset')})},"err_text")})}),ey(this,"handleChangeEmail",({value:e})=>{this.setState({email:e,shouldShowSignUpButton:!1,hasKeychainErrorShown:!0,isSsoEmail:!1,isSsoFlow:!1},()=>{this.validateEmail({}),this.debouncedCheckIfSsoUser()})}),ey(this,"handleChangePassword",({value:e})=>this.setState({password:e,hasKeychainErrorShown:!0},this.validatePassword)),ey(this,"handleLoginFailure",e=>{let{showToast:t}=this.props,{email:i}=this.state,o=e.api_error_code===K.yV||e.api_error_code===K.$j,s=e.api_error_code===K.oP?{passwordValidationError:e.message}:e.message?{passwordValidationError:e.message}:{};o?s={passwordValidationError:this.getSoftBannedErrorMsg()}:e.api_error_code===K.nY&&e.message?(t(({hideToast:t})=>(0,k.jsx)(g.ZP,{onHide:t,text:e.message||""})),s={}):e.api_error_code===K.hU?s=i?{emailValidationError:e.message,shouldShowSignUpButton:!0}:{emailValidationError:e.message}:K.ik.includes(e.api_error_code)&&(s={emailValidationError:"",showLoginRateLimitedModal:!0}),this.setState({isLoading:!1,apiErrorCode:e.api_error_code||0,...s}),(0,Q.rY)(e=>this.setState({recaptchaV3Token:e}),()=>{},Q.xW)}),ey(this,"handleLogin",e=>{e&&e.preventDefault();let{history:t,location:i,login:o,showToast:s,isAuthenticated:n,isLimitedLoginUser:r,isSwitchAccount:a,noImmediateRedirect:l,attributionLabel:u}=this.props,{email:c,password:d,recaptchaV3Token:h}=this.state,{authenticateWithSso:p}=this.props,{isSsoEmail:_,exchangeCodeToTokenUrl:m,existingUserSso:f,existingUserIsSso:x,ssoAuthorizationUri:w}=this.state;if(_){if(f){if(x){this.trackButtonTap(14367),p({callbacks:{success:e=>{let{authCode:s}=e;c&&s&&o({sso_user_email:c,sso_auth_code:s},t,eS(i),{isSwitchAccount:a,recaptchaV3Token:h,noImmediateRedirect:l},{event_type:7534,view_type:9,view_parameter:63,aux_data:{...n?{login_state:r?G.Z.LIMITED:G.Z.DEFAULT}:{},signup_login_method:X.Z.SSO,upsell_reason:u}}).catch(e=>{(0,y.My)("unauth.mweb.login.sso.login.error",{code:e.api_error_code,message:e.message}),this.handleLoginFailure(e)})},error:e=>{(0,y.My)("unauth.mweb.login.sso.autheticateWithSso.error",{code:e.api_error_code,message:e.message}),this.setState({isLoading:!1}),e.message&&s(({hideToast:t})=>(0,k.jsx)(g.ZP,{onHide:t,text:e.message||""}))}},exchangeCodeToTokenUrl:m,isLogin:!0,modalUrl:w??""});return}}else{t.push({pathname:"/signup/step1/",state:{email:this.state.email,isSignUpFromLoginError:!1,...i.state,attributionLabel:u}});return}}o({username_or_email:c,password:d},t,eS(i),{isSwitchAccount:a,recaptchaV3Token:h,noImmediateRedirect:l},{event_type:7534,view_type:9,view_parameter:63,aux_data:{...n?{login_state:r?G.Z.LIMITED:G.Z.DEFAULT}:{},signup_login_method:X.Z.EMAIL,upsell_reason:u}}).catch(e=>this.handleLoginFailure(e)),this.setState({isLoading:!0})}),ey(this,"handleLoginTouch",e=>{"Facebook"===e?(0,y.My)("unauth_mweb.facebook_connect.manual.attempt"):"Google"===e&&(0,y.My)("unauth_mweb.google_connect.manual.attempt")}),ey(this,"handleDisableFBSignup",()=>{(0,y.My)("remove_fb_signup.mweb_login_form"),this.setState({shouldHideFBButtonForSignup:!0}),this.props.history.push({pathname:"/login/"})}),ey(this,"renderPersonalizedLogin",e=>{let{isAppFactoryOAuth:t,location:i,noImmediateRedirect:o,attributionLabel:s,checkExperiment:n}=this.props,{emailValidationError:r,passwordValidationError:u,isSsoFlow:c,isValid:d,password:h,shouldShowSignUpButton:p}=this.state,{connectedToFacebook:g,connectedToGoogle:_,email:m,firstName:f,hasPassword:x,avatarSrc:w}=eP(e),b=!!i.state&&!!i.state.userInfo,y=!x&&!g&&!_,v=x||y,P=g||y,S=_||y,j=v&&(P||S),A=f?(0,q.nk)(this.props.i18n._('Welcome back, {{name}}!', 'Heading on personalized login page, followed by user\'s name', 'Heading on personalized login page, followed by user\'s name'),{name:f}):this.props.i18n._('Welcome back!', 'Welcome message on user login page', 'Welcome message on user login page');return(0,k.jsxs)(a.Fragment,{children:[b&&(0,k.jsx)(ef.Z,{}),(0,k.jsxs)(a.Fragment,{children:[(0,k.jsxs)(l.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:v?-3:5,marginTop:5,children:[(0,k.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",children:(0,k.jsx)(l.X6,{accessibilityLevel:1,overflow:"normal",size:"400",children:A})}),(0,k.jsx)(l.xu,{marginBottom:3,marginTop:3,children:(0,k.jsx)(Y.qE,{name:f||"",size:"lg",src:w})}),!v&&(0,k.jsx)(l.xu,{children:(0,k.jsx)(l.xv,{align:"center",children:m})})]}),(0,k.jsxs)(l.xu,{marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:3,maxWidth:400,children:[v&&(0,k.jsx)(ed,{email:m??"",emailValidationError:r,handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,hideEmailField:!1,isSsoFlow:c,isValid:d,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:h,passwordValidationError:u,shouldShowSignUpButton:p,showEmailAsText:!0,validateEmailOnBlur:this.validateEmailOnBlur,validatePasswordOnBlur:this.validatePasswordOnBlur}),j&&(0,k.jsx)(l.xu,{marginBottom:3,marginTop:3,children:(0,k.jsx)(l.xv,{align:"center",size:"100",weight:"bold",children:this.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})}),(0,k.jsx)(ew.Z,{attributionLabel:s,disableFBSignup:n("mweb_unauth_remove_fb_signup_iteration").anyEnabled?this.handleDisableFBSignup:void 0,facebook:n("mweb_unauth_remove_fb_signup_iteration").anyEnabled?!this.state.shouldHideFBButtonForSignup:P,google:S,line:y,next:eS(i),noImmediateRedirect:o,onFacebookTouch:()=>this.handleLoginTouch("Facebook")})]})]}),(0,k.jsxs)(l.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[(0,k.jsxs)(l.xu,{alignItems:"start","data-test-id":"login-switch-account",direction:"row",display:"flex",justifyContent:"center",wrap:!0,children:[(0,k.jsx)(l.xu,{marginEnd:1,children:(0,k.jsx)(l.xv,{align:"center",inline:!0,children:this.props.i18n._('Not you?', 'Short message on the bottom of the login modal that prompts a user to log in to a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account')})}),(0,k.jsx)(l.xv,{color:"default",inline:!0,weight:"bold",children:(0,k.jsx)(eg,{href:`/login/${i.search||""}`,onClick:this.handleNotYouClick,children:this.props.i18n._('Log in with a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account', 'Short message on the bottom of the login modal that prompts a user to log in to a different account')})})]}),(0,k.jsxs)(l.xu,{display:"flex",justifyContent:"center",marginTop:4,children:[(0,k.jsx)(l.xu,{"data-test-id":"signup-modal-personalized",marginEnd:1,children:(0,k.jsx)(l.xv,{children:this.props.i18n._('No Account?', 'Prompt for signing up', 'Prompt for signing up')})}),(0,k.jsx)(l.xv,{color:"default",weight:"bold",children:(0,k.jsx)(eg,{href:"/signup/step1/",onClick:this.handleNoAccountClick,state:{...i.state,isAppFactoryOAuth:t,attributionLabel:s},children:this.props.i18n._('Sign up', 'Prompt for signing up', 'Prompt for signing up')})})]})]})]})}),ey(this,"renderLoginButtons",e=>{let{isAppFactoryOAuth:t,isBeforeHydration:i,location:o,noImmediateRedirect:s,attributionLabel:n,checkExperiment:r}=this.props,a=!i&&!!(0,ee.qn)(er.u),u=(0,k.jsx)(ew.Z,{apple:a||t,attributionLabel:n,disableFBSignup:r("mweb_unauth_remove_fb_signup_iteration").anyEnabled?this.handleDisableFBSignup:void 0,facebook:!r("mweb_unauth_remove_fb_signup_iteration").anyEnabled||!this.state.shouldHideFBButtonForSignup,google:!0,line:!0,next:eS(o),noImmediateRedirect:s,onFacebookTouch:()=>this.handleLoginTouch("Facebook")}),c=(0,k.jsx)(l.xu,{marginBottom:e?2:0,marginTop:e?0:2,children:(0,k.jsx)(l.xv,{align:"center",size:"200",weight:"bold",children:this.props.i18n._('OR', 'Separator for email login button and social login button', 'Separator for email login button and social login button')})});return e?(0,k.jsxs)(l.xu,{children:[c,u]}):(0,k.jsxs)(l.xu,{children:[u,c]})})}componentDidMount(){let{history:e,location:t,showToast:i}=this.props;if(t.state&&t.state.shouldShowAccountExistsToast&&(i(({hideToast:e})=>(0,k.jsx)(g.ZP,{onHide:e,text:this.props.i18n._('Looks like you already have a Pinterest account. Please log in.', 'Toast showing that a user already has a Pinterest account and can login normally', 'Toast showing that a user already has a Pinterest account and can login normally')})),t.state)){let{shouldShowAccountExistsToast:i,...o}=t.state;e.replace("/login/",o)}(0,P.mB)(t.search).message===f.R&&i(({hideToast:e})=>(0,k.jsx)(g.ZP,{duration:f.Jl,onHide:e,text:(0,x.Z)(this.props.i18n,t)}));let o=()=>{(0,Q.rY)(e=>this.setState({recaptchaV3Token:e}),()=>{},Q.xW)};if(o(),setInterval(o,Q.yc),t.state&&t.state.keychainiOSAutologinError){let e=t.state.keychainiOSAutologinError,i=e.code,o=i===K.hU?{emailValidationError:e.message}:{passwordValidationError:e.message};this.setState({apiErrorCode:i,hasKeychainErrorShown:!1,...o})}t.state?.userInfo?.email&&this.checkIfUserIsSso({hasInitialEmail:!0})}static getDerivedStateFromProps(e,t){let{isAuthenticated:i,isLimitedLoginUser:o,location:s,loggedOutUserInfo:n,viewingUser:r}=e;return s.state&&s.state.userInfo?{email:s.state.userInfo.email}:i||!n||t.optOutFromPersonalizedForm?o&&r&&!t.optOutFromPersonalizedForm?{email:r.email}:null:{email:n.email}}render(){let{isLimitedLoginUser:e,location:t,loggedOutUserInfo:i,isAppFactoryOAuth:o,viewingUser:s,showPLPBanner:n,plpBannerPin:r,i18n:u,showKeychainError:c,attributionLabel:d,checkExperiment:h}=this.props,p=t.state&&t.state.shouldShowLoginBelow||!1,{apiErrorCode:g,email:_,emailValidationError:m,passwordValidationError:f,isLoading:x,isSsoFlow:w,isValid:b,optOutFromPersonalizedForm:y,password:v,shouldShowSignUpButton:S,hasKeychainErrorShown:j,showLoginRateLimitedModal:A}=this.state,E=e?s:i;t.state&&t.state.userInfo&&(E=t.state.userInfo);let L=this.state.shouldHideFBButtonForSignup&&h("mweb_unauth_remove_fb_signup_iteration").group.endsWith("no_plp_banner"),C=g>0&&g===K.nf,z=(0,k.jsxs)(a.Fragment,{children:[(0,k.jsxs)(l.xu,{"data-test-id":"duplo-login-form",marginBottom:6,marginEnd:"auto",marginStart:"auto",marginTop:3,maxWidth:400,children:[!p&&this.renderLoginButtons(p),(0,k.jsx)(ed,{email:_,emailValidationError:m,handleChangeEmail:this.handleChangeEmail,handleChangePassword:this.handleChangePassword,handlePasswordReset:this.handlePasswordReset,isSIWAError:C,isSsoFlow:w,isValid:b,onLoginClick:this.onLoginClick,onSignUpClick:this.onSignUpClick,onSubmit:this.handleLogin,password:v,passwordValidationError:f,shouldShowSignUpButton:S,validateEmailOnBlur:this.validateEmailOnBlur,validatePasswordOnBlur:this.validatePasswordOnBlur}),p&&this.renderLoginButtons(p)]}),(0,k.jsxs)(l.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginTop:2,children:[(0,k.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,k.jsx)(l.xu,{"data-test-id":"signup-link",marginEnd:1,children:(0,k.jsx)(l.xv,{children:u._('No Account?', 'Prompt for signing up', 'Prompt for signing up')})}),(0,k.jsx)(l.xv,{color:"default",weight:"bold",children:(0,k.jsx)(eg,{href:"/signup/step1/",onClick:this.handleNoAccountClick,state:{email:_,isAppFactoryOAuth:o,next:(0,P.mB)(t.search).next,attributionLabel:d},children:u._('Sign up', 'Prompt for signing up', 'Prompt for signing up')})})]}),!o&&(0,k.jsx)(ex.Z,{})]})]});return c?(0,k.jsxs)(a.Fragment,{children:[(0,k.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(230, 0, 35, 0.08)",transition:"transform 400ms ease-in-out",transform:j?"translateY(-120%)":"translateY(0%)"}},display:"flex",height:52,justifyContent:"center",children:[(0,k.jsx)(l.qb,{accessibilityLabel:u._('Workflow status problem accessibility label', 'mweb.unauth.keychain_autologin.login_page.error_message.icon', 'Accessibility label for error message icon'),type:"problem"}),(0,k.jsx)(l.xu,{marginStart:2,children:(0,k.jsx)(l.xv,{color:"default",children:u._('Oops! We couldn\'t log you in', 'mweb.unauth.keychain_autologin.login_page.error_message', 'Error message to let user know there was an issue logging them in')})})]}),(0,k.jsxs)(l.xu,{paddingX:n?4:0,children:[E&&!y?this.renderPersonalizedLogin(E):z,x&&(0,k.jsx)(es.Z,{})]})]}):(0,k.jsxs)(a.Fragment,{children:[A&&(0,k.jsx)(eh.Z,{onDismiss:()=>this.setState({showLoginRateLimitedModal:!1})}),this.state.shouldHideFBButtonForSignup&&(0,k.jsx)(V.Z,{}),n&&r&&!L&&(0,k.jsx)(eb.Z,{pin:r}),(0,k.jsxs)(l.xu,{paddingX:n?4:0,children:[E&&!y?this.renderPersonalizedLogin(E):z,x&&(0,k.jsx)(es.Z,{})]})]})}}function ek(e){let t=(0,_.ZP)(),i=(0,o.k6)(),s=(0,o.TH)(),n=(0,R.I0)(),r=(0,e_.f)(),{showToast:a}=(0,v.F9)(),{isAuthenticated:l,loggedOutUserInfo:u}=(0,R.v9)(e=>e.session),c=(0,em.Tt)(),d=(0,W.Z)(),h=(0,ei.Z)(),{trackConversionUpsell:p}=(0,et.Z)(),g=(0,b.B)(),{authenticateWithSso:m,verifySsoUser:f}=(0,J.Z)();return(0,k.jsx)(ej,{...e,attributionLabel:s.state?.attributionLabel,authenticateWithSso:m,dispatch:n,history:i,i18n:t,isAuthenticated:l,isBeforeHydration:h,isLimitedLoginUser:(0,en.xT)(c),location:s,logContextEvent:d,loggedOutUserInfo:u,login:r,requestContext:g,showToast:a,trackConversionUpsell:p,verifySsoUser:f,viewingUser:c})}var eA=i(627457);let eE=(e,t=!1)=>{let i=new F.dD;if(!t&&i.isEligible()){let e=i.getOfferId();return`/business/offer/${e}`}return(0,P.mB)(e.search).next||e.state&&e.state.next||"/"},eL=()=>{let e=(0,o.TH)();return e.state?.switch_account==="true"},eC=()=>{let e=(0,o.TH)(),{origin:t}=(0,b.B)(),i=(0,z.Z)(),s=(0,O.Z)(),n=eL(),r=eE(e);return s&&!e.state?.secondary_account&&!n&&!(0,D.kB)(r,t)&&!r.startsWith("/oauth/")&&!i},ez=()=>{let e=(0,_.ZP)(),t=(0,o.TH)(),{showPLPBanner:i,pinForBanner:s}=(0,M.Z)({i18n:e,location:t}),{checkExperiment:n}=(0,L.F)(),u=!!t.state?.keychainiOSAutologinError?.code,c=(0,r.Z)(),d=c.isAuth?c.email:"",h=eL(),p=eC(),g=(0,z.Z)(),m=(0,L.F)().checkExperiment("m10n_measurement_pinterest_tag_us").anyEnabled,f=t.state?.attributionLabel,[x,w]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{"undefined"!=typeof window&&c.isAuth&&m&&window.pintrk&&window.pintrk("track","custom",{lead_type:"Pinterest Login",em:d})},[m,d,c.isAuth]),(0,k.jsx)(T.Z,{viewType:9,children:(0,k.jsx)(E.default,{hasGutter:!i,showKeychainError:u,children:(0,k.jsxs)(l.xu,{height:"120vh",children:[(0,k.jsx)(I.Z,{text:e._('Login', 'Hidden accessibility heading for screenreaders for mobile web login page', 'Hidden accessibility heading for screenreaders for mobile web')}),x&&(0,k.jsx)(H,{text:e._('Couldn\'t find your Google account. Try another way', 'callout.google_user_not_found.login_page', 'text for google user not found on login callout')}),(0,k.jsx)(ek,{attributionLabel:f,checkExperiment:n,component:14213,isAppFactoryOAuth:!!g,isSwitchAccount:h,noImmediateRedirect:p,plpBannerPin:s,setShowGoogleLoginCallout:w,showKeychainError:u,showPLPBanner:i}),(0,k.jsx)(l.xu,{marginTop:6,paddingX:2,children:(0,k.jsx)(eA.Z,{})})]})})})},eZ=({redirectToNextUrl:e})=>((0,j.Z)(()=>{e()}),null),eT=()=>{let e=(0,o.k6)(),t=(0,o.TH)(),i=(0,r.Z)(),{origin:s}=(0,b.B)(),{checkExperiment:n}=(0,L.F)(),a=(0,U.w)("MobileLoginPage"),u=eC(),c=(0,C.Z)(),d=eE(t);"/"===d&&n("mweb_auth_arr_full_upsell_after_login").anyEnabled&&(d="/?from_login=true",u=!1),(0,Z.OY)(i)&&n("mweb_arr_modal_post_fb_login",{dangerouslySkipActivation:!0}).anyEnabled&&(u=!1);let h=()=>(0,D._)({history:e,next:d,origin:s});return u?(0,k.jsx)(E.default,{children:(0,k.jsx)(l.xu,{alignItems:"center",bottom:!0,direction:"column",display:"flex",height:"100%",left:!0,paddingX:5,position:"absolute",right:!0,top:!0,width:"100%",children:(0,k.jsx)(B.Z,{app_upsell_type:"full-screen-upsell",handleContinueInBrowser:()=>{c({action:"click",item:"continue-in-browser-button",within:"full-screen-upsell"}),(0,y.My)("login_app_install_step.click_continue_in_browser"),h()},handleOpenAppClick:()=>{c({action:"click",item:"open-in-app-button",within:"full-screen-upsell"})},InAppDeeplinkUrl:(0,D.eN)(eE(t,!0)),overrideAppValuePropHeader:a})})}):(0,k.jsx)(eZ,{redirectToNextUrl:h})};function eB(){let e=(0,r.Z)(),t=eL();return!e.isAuth||e.isLimitedLogin||t?(0,k.jsx)(ez,{}):(0,k.jsx)(eT,{})}var eO=i(473289);function eF(){let e=(0,o.TH)();return(0,k.jsx)(eO.Z,{attributionLabel:e.state?.attributionLabel,isForLimitedLogin:!0})}var eI=i(612435),eD=i(420097),eU=i(549629),eM=i(678379);let eH="business_login_page";function eR(){let e=(0,_.ZP)();(0,eU.Q)({view_type:156,view_parameter:3331});let t=(0,o.TH)(),[i]=(0,a.useState)("login"),[s,n]=(0,a.useState)({type:"login"}),r=(0,P.mB)(t.search);return(0,k.jsx)(eI.Z,{page:"businessLogin",children:(0,k.jsxs)(l.xu,{height:"100%",position:"absolute",top:!0,width:"100%",children:[(0,k.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{overflowY:"hidden"}},left:!0,position:"absolute",right:!0,top:!0,children:(0,k.jsx)(eM.default,{})}),(0,k.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, .5)"}},left:!0,position:"fixed",right:!0,top:!0}),(0,k.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},position:"absolute",children:(0,k.jsx)(u.default,{attributionLabel:t.state?.attributionLabel,container:eH,customLoginTagline:e._('Log in to Pinterest', 'Welcoming a business user to log into pinterest', 'Welcoming a business user to log into pinterest'),isBusiness:!0,nextUrlParam:r.next,signupFlow:s,signupSource:i})}),(0,k.jsx)(eD.Z,{container:eH,handleGdprRequiresAge:({options:e,context:t})=>{n({type:"socialSignupWithAge",registrationCredentials:{type:"socialSignupWithAge",context:t,signupOptions:e}})},handleLoginWithMfa:e=>{n({type:"loginMfa",creds:{google_open_id_token:e}})},nextUrl:r.next})]})})}var eW=i(106115);function eN(){let e=(0,n.HG)(),{isAuth:t}=(0,r.Z)(),{pathname:i,search:a}=(0,o.TH)(),l=new URLSearchParams(a).get("next")||"";return l&&!(0,s.Z)(l)?(0,k.jsx)(o.l_,{to:`${i}?${(0,eW.Z)(a,"next")}`}):e?t?i.startsWith("/business/login")?(0,k.jsx)(eR,{}):(0,k.jsx)(eF,{}):(0,k.jsx)(A,{}):(0,k.jsx)(eB,{})}},106115:(e,t,i)=>{"use strict";function o(e,t){let i=new URLSearchParams(e);return i.delete(t),i.toString()}i.d(t,{Z:()=>o})},800030:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var o=i(545007),s=i(616550),n=i(140017),r=i(391884),a=i(5859),l=i(19447),u=i(667294),c=i(883119),d=i(785893);let h=function({pin:{image:e,pinDescription:t,dominantColor:i,bannerCopy:o}}){return(0,d.jsx)(u.Fragment,{children:(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"center",margin:4,children:[(0,d.jsx)(c.xu,{height:40,margin:4,width:30,children:(0,d.jsx)(c.zd,{height:"100%",rounding:2,width:"100%",children:(0,d.jsx)(c.Ee,{alt:t||"",color:i||"",fit:"cover",naturalHeight:(e||{}).height||1,naturalWidth:(e||{}).width||1,src:(e||{}).url??""})})}),(0,d.jsx)(c.xv,{children:o})]})})},p=function({pin:e}){let t=(0,n.ZP)(),i=(0,o.v9)(({session:e})=>e&&e.unauthSavePinId),u=(0,l.S6)()(i??""),{isBot:c,isSocialBot:p}=(0,a.B)(),g=(0,s.TH)();if(!e&&!i)return null;let _=g.pathname.startsWith("/signup");if(!(g.pathname.startsWith("/login")||_))return null;if(u){let e=g.pathname.startsWith("/signup"),i={url:(0,r.Z)({imagesUrls:u.images?Object.keys(u.images).reduce((e,t)=>t&&u.images?.[t]?.url?{...e,[t]:u.images[t].url}:e,{}):void 0,embedSrc:u.embed?.src,embedType:u.embed?.type,excludeOriginals:!c&&!p}),height:1,width:1},o=u.description||"",s=u.dominant_color||"",n=e?t._('Finish signing up to save this idea', 'mweb.unauth.save.flow.signup.banner', 'Sign up banner shown in signup page after user attempting to save the pin'):t._('Finish logging in to save this idea', 'mweb.unauth.save.flow.login.banner', 'Login banner shown in login page after user attempting to save the pin');return(0,d.jsx)(h,{pin:{image:i,pinDescription:o,dominantColor:s,bannerCopy:n}})}return e?(0,d.jsx)(h,{pin:e}):null}},465316:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});let o=i(154303).Z},839586:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});let o=i(154303).Z},190699:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});let o=i(154303).Z},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=Array(t);i<t;i++)o[i]=e[i];return o},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,i)=>{var o=i(373897);e.exports=function(e){if(Array.isArray(e))return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,i)=>{var o=i(386116);e.exports=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=o(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var s=0,n=function(){};return{s:n,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw r}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:(e,t,i)=>{var o=i(464062);e.exports=function(e,t,i){return(t=o(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,i)=>{var o=i(238416);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}e.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,i)=>{var o=i(163405),s=i(379498),n=i(386116),r=i(742281);e.exports=function(e){return o(e)||s(e)||n(e)||r()},e.exports.__esModule=!0,e.exports.default=e.exports},295036:(e,t,i)=>{var o=i(918698).default;e.exports=function(e,t){if("object"!=o(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var s=i.call(e,t||"default");if("object"!=o(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},464062:(e,t,i)=>{var o=i(918698).default,s=i(295036);e.exports=function(e){var t=s(e,"string");return"symbol"==o(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},918698:e=>{function t(i){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,i)=>{var o=i(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=({}).toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},e=>{var t=t=>e(e.s=t);e.O(0,[97270,83119,79968,76594,42298,63696,21876,91276,17433,38531,64330,33185,34722,79627,66688,2648],()=>(t(114141),t(39900),t(67895))),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/login-7241839bb877a8fd.mjs.map